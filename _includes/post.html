<article class="post">
	<header class="post-header">
		<div class="post-title"> 
			{{ page.title | escape }}
		</div>	
	</header>

	<div class="post-content">
		<div class="tag-content">
			{% if page.tags %}
				{% for tag in page.tags %}
					{% if site.data.tags | downcase contains tag | downcase %}
					<div class="tag-box">
						<span class="tag">{{ tag }}</span>
					</div>
					{% endif %}	
				{% endfor %}
			{% endif %}	
		</div>
		{{ content }}
	</div>

	<script>
		$("[data-tag]").click((e) => {
		currentTag = e.target.dataset.tag;
		filterByTagName(currentTag);
		})

		function filterByTagName(tagName) {
		$('.hidden').removeClass('hidden');
		$('.post-wrapper').each((index, elem) => {
			if (!elem.hasAttribute(`data-${tagName}`)) {
			$(elem).addClass('hidden');
			}
		});
		$(`.tag`).removeClass('selected');
		$(`.tag[data-tag=${tagName}]`).addClass('selected');
		}
	</script>
</article>